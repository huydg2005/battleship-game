<div class="prepare-container">
  <h2>Xin chÃ o, {{ playerName }} ({{ playerId }})</h2>
  <p>MÃ£ phÃ²ng: {{ roomId }}</p>

  <div class="ships-selection">
    <h3>Danh sÃ¡ch thuyá»n</h3>
    <div class="ships-list">
      @for (type of shipTypes; track type) {
        <div
          class="ship"
          draggable="true"
          (dragstart)="startDrag(type)"
          [class.placed]="isShipPlaced(type)"
        >
          {{ type }} ({{ shipSizes[type] }})
        </div>
      }
    </div>
  </div>

  <div class="grid-section">
    <h3>BÃ n chÆ¡i</h3>
    <div
      class="grid"
      style="display: grid; grid-template-columns: repeat(10, 30px); gap: 2px;"
    >
      @for (cell of grid; track $index) {
        <div
          class="cell"
          (dragover)="allowDrop($event)"
          (drop)="dropShip($index)"
          [style.background]="cell ? '#4caf50' : '#e0e0e0'"
        >
        </div>
      }
    </div>
  </div>

  <div class="controls">
    <button (click)="rotateDirection()">
      ğŸ”„ Xoay thuyá»n (Hiá»‡n táº¡i: {{ direction === 'horizontal' ? 'Ngang' : 'Dá»c' }})
    </button>

    <button (click)="resetShips()">
      ğŸ§¹ Äáº·t láº¡i tÃ u
    </button>

    <button (click)="confirmSetup()">
      âœ… Sáºµn sÃ ng
    </button>

    <div class="status">
      <p>Báº¡n lÃ : {{ playerId }} - {{ playerName }}</p>
      <p>ÄÃ£ Ä‘áº·t: {{ placedShips.length }} thuyá»n</p>
      <p>ÄÃ£ sáºµn sÃ ng: {{ placedShips.length === shipTypes.length ? 'âœ…' : 'âŒ' }}</p>
      <p>Äá»‘i thá»§ sáºµn sÃ ng: {{ opponentReady ? 'âœ…' : 'âŒ' }}</p>
    </div>
  </div>
</div>
