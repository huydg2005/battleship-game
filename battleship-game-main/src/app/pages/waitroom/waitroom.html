<div class="waitroom-container">

  <!-- Header Box -->
  <div class="room-header">
    <h2>PhÃ²ng: {{ roomId }}</h2>
    <button class="copy-btn" (click)="copyRoomCode()">ğŸ“‹ Sao chÃ©p mÃ£ phÃ²ng</button>
  </div>

  <!-- Main content -->
  <div class="main-content">
    <!-- Danh sÃ¡ch ngÆ°á»i chÆ¡i -->
    <div class="players-section">
      <h3>NgÆ°á»i chÆ¡i ({{ readyCount }}/{{ playersCount }})</h3>
      <ul>
        <li *ngFor="let p of players" [class.ready]="p.ready">
          <span>
            {{ p.name }}
            <span *ngIf="p.isHost" class="host-badge">Chá»§ phÃ²ng</span>
          </span>
          <span *ngIf="p.ready" class="status ready">âœ” Sáºµn sÃ ng</span>
          <span *ngIf="!p.ready" class="status not-ready">â³ ChÆ°a sáºµn sÃ ng</span>
        </li>
      </ul>

      <div class="player-actions">
        <button *ngIf="!isCurrentPlayerReady()" (click)="setReady(true)" class="ready-btn">âœ… Sáºµn sÃ ng</button>
        <button *ngIf="isCurrentPlayerReady()" (click)="setReady(false)" class="cancel-btn">âŒ Há»§y sáºµn sÃ ng</button>
        <button *ngIf="isHost" (click)="startGame()" [disabled]="startDisabled" class="start-btn">ğŸš€ Báº¯t Ä‘áº§u</button>
      </div>
    </div>

    <!-- Chat box -->
    <div class="chat-section">
      <h3>ğŸ’¬ TrÃ² chuyá»‡n</h3>
      <div class="chat-box">
        <div *ngFor="let msg of chatMessages" class="chat-message">
          <span class="chat-name">{{ msg.name }}:</span>
          <span class="chat-text">{{ msg.message }}</span>
          <span class="chat-time">{{ msg.time }}</span>
        </div>
      </div>
      <div class="chat-input">
        <input type="text" placeholder="Nháº­p tin nháº¯n..." [(ngModel)]="chatInput" (keypress)="handleChatEnter($event)">
        <button (click)="sendMessage()" class="send-btn">ğŸ“¤</button>
      </div>
    </div>
  </div>

</div>
