<div class="game-container">
  <h2>Tráº­n chiáº¿n: {{ playerId }} vs {{ opponentId }}</h2>

  @if (winner) {
    <div class="status">
      @switch (winner) {
        @case ('player') {
          <h3>ğŸ‰ Báº¡n Ä‘Ã£ tháº¯ng!</h3>
        }
        @case ('opponent') {
          <h3>ğŸ’¥ Báº¡n Ä‘Ã£ thua!</h3>
        }
      }
    </div>
  }

  <div class="grids">
    <!-- LÆ°á»›i cá»§a báº¡n -->
    <div class="grid">
      <h4>LÆ°á»›i cá»§a báº¡n</h4>
      <div class="cells">
        @for (cell of myGrid; track $index; let i = $index) {
          <div
            [class.ship]="cell === 'ğŸš¢'"
            [class.hit]="cell === 'ğŸ’¥'"
            [class.miss]="cell === 'âŒ'"
          >
            {{ cell }}
          </div>
        }
      </div>
    </div>

    <!-- LÆ°á»›i Ä‘á»‘i thá»§ -->
    <div class="grid">
      <h4>LÆ°á»›i Ä‘á»‘i thá»§</h4>
      <div class="cells">
        @for (cell of opponentGrid; track $index; let i = $index) {
          <div
            (click)="isMyTurn && !winner && cell === '' ? fire(i) : null"
            [class.clickable]="isMyTurn && cell === ''"
            [class.hit]="cell === 'ğŸ’¥'"
            [class.miss]="cell === 'âŒ'"
            [class.unknown]="cell === ''"
          >
            {{ cell === 'ğŸ’¥' ? 'ğŸ’¥' : cell === 'âŒ' ? 'âŒ' : '?' }}
          </div>
        }
      </div>
    </div>
  </div>

  <div class="turn-indicator">
    <p>LÆ°á»£t hiá»‡n táº¡i: <strong>{{ isMyTurn ? 'Báº¡n' : 'Äá»‘i thá»§' }}</strong></p>
  </div>

  @if (roomStatus === 'prepare') {
    <div class="actions">
      <button (click)="markReady()">âœ… TÃ´i Ä‘Ã£ sáºµn sÃ ng</button>
    </div>
  }
</div>
